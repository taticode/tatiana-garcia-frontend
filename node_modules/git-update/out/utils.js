"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var fs = require("fs");
var child_process_1 = require("child_process");
var logger_1 = require("./logger");
exports.cloneProjects = function (repos, config) {
    repos.map(function (p) {
        var clone_to_path = p.namespace ? config.dir + "/" + p.namespace + "/" + p.name : config.dir + "/" + name;
        if (fs.existsSync("" + clone_to_path)) {
            child_process_1.exec("cd " + clone_to_path + "; git pull", function (error, stdout, stderr) {
                logger_1.default.debug("[update] project " + p.namespace + "/" + p.name);
                //do whatever here
                if (error !== null) {
                    console.log("[error]", error);
                }
            });
        }
        else {
            child_process_1.exec("cd " + config.dir + "; git clone " + p.link + " " + clone_to_path, function (error, stdout, stderr) {
                logger_1.default.debug("[create] project " + p.namespace + "/" + p.name);
                //do whatever here
                if (error !== null) {
                    console.log("[error]", error);
                }
            });
        }
    });
};
